@page
@model IndexModel
@{
    ViewData["Title"] = "Lap Generator";
}

    <div class="text-center">
        <h1 class="display-4">Add Lap</h1>
         <p class="alert-info">@TempData["MessageComplete"]</p>
    </div>
    <form method="post" name="LapGeneratorForm">
        <div class="form-group">
            <label for="DriverName">Driver Name:</label>
            <input class="form-control" type="text" asp-for="DriverName" />
        </div>

        <div class="form-group">
            <label for="CarNumber">Car Number:</label>
            <input class="form-control" type="text" asp-for="CarNumber" />
        </div>

        <div class="form-group">
            <label for="LapTime">Lap Time(In Seconds):</label>
            <input class="form-control" type="number" asp-for="LapTime" />
        </div>
        <div class="form-group">
            <label for="LapSubmitTime">Generate lap on a timer(0 submits only once, other values is speed of timer in seconds):</label>
            <input class="form-control" type="number" asp-for="LapSubmitTime" />
        </div>

        <br />
        @if(Model.LapAutomatic == false)
{
        <button class="btn btn-primary" asp-action="OnPost">Submit</button>
}
else {
    <h1>Automatically submitting Lap Data</h1>

<p>This page is automatically submitting lap data every @Model.LapSubmitTime seconds </p>
<p>You can cancel this at any time</p>
<button class="btn btn-primary" asp-page-handler="Modify">Modify</button>
<button class="btn btn-primary" asp-page-handler="Stop">Stop</button>
}

</form>
